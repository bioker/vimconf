apply plugin: "maven-publish"
publishing {
    publications {
        maven(MavenPublication) {
            groupId "net.wls"
            artifactId "test"
            version "0.1.0"
            from components.java
        }
    }
    repositories{
        maven {
            url 'http://archiva.lan/repository/internal/'
            credentials{
                username ''
                password ''
            }
        }
    }

}

artifacts {
    archives sourcesJar
    archives javadocJar
}

test {
    systemProperties = System.properties
    testLogging {
        showStandardStreams = true
    }
}

apply plugin: "war"
war {
    from "src/rootContent" // adds a file-set to the root of the archive
    webInf { from "src/additionalWebInf" } // adds a file-set to the WEB-INF dir.
    classpath fileTree("additionalLibs") // adds a file-set to the WEB-INF/lib dir.
    classpath configurations.moreLibs // adds a configuration to the WEB-INF/lib dir.
    webXml = file("src/someWeb.xml") // copies a file to WEB-INF/web.xml
}
